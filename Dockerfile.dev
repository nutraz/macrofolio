FROM node:20-alpine

# Install Capacitor dependencies
RUN apk add --no-cache \
    openjdk17 \
    git \
    curl \
    wget

# Install Capacitor CLI
RUN npm install -g @capacitor/cli

WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci

# Copy source code
COPY . .

# Expose dev server port
EXPOSE 5173

CMD ["npm", "run", "dev"]

